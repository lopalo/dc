#:kivy 1.7.2
#:import W kivy.core.window.Window

<WorldObject>:
    center_x: self.world_x + self.rel_x
    center_y: self.world_y + self.rel_y

<UnitImage>:
    canvas.before:
        PushMatrix
    canvas:
        Color:
            rgb: 1, 1, 1
        Rotate:
            angle: self.angle
            axis: 0, 0, 1
            origin: self.center
        Rectangle:
            pos: self.pos
            size: self.size
    canvas.after:
        PopMatrix

<Unit@Active>:
    width: 50
    height: 25
    UnitImage:
        width: root.width
        height: root.height
        pos: root.pos
        angle: root.angle
    Label:
        center: root.center_x, root.center_y + 35
        text: root.name

<Background>:
    height: W.height
    width: W.width
    canvas:
        Color:
            rgb: 1, 1, 1
        Line:
            rectangle: self.x + 40, self.y + 40, self.width - 80, self.height - 80
